<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>RingCentral JS Widget Demo</title>
  <meta name="description" content="Demo site for RingCentral JS Widget">
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, user-scalable=0, maximum-scale=1, minimum-scale=1"
  >
  <link rel="shortcut icon" href="assets/images/favicon.ico">
  <style>
    body {
      padding-right: 20px;
      padding-left: 20px;
    }
    h1 {
      font-size: 18px;
    }
    h2 {
      font-size: 16px;
    }
    h3 {
      font-size: 15px;
      font-weight: 600;
    }
    p {
      margin: 10px 5px;
      line-height: 25px;
      font-size: 15px;
    }
    pre {
      padding: 5px;
      overflow: auto;
      font-size: 85%;
      line-height: 1.45;
      background-color: #f7f7f7;
      border-radius: 3px;
    }
    #setEnvironment {
      color: #0684bd;
    }
    #clickToSMS, #clickToCall {
      color: #0684bd;
    }
  </style>
</head>

<body>
  <h1>RingCentral Web Widget</h1>
  <h2>Two ways to integrate this widget to your web application</h2>
  <h3>1. Adapter Way:</h3>
  <p>Just add following the following codes to your website's header. It will create a iframe in your website.</p>
  <pre>
  &lt;script&gt;
    (function() {
      var rcs = document.createElement("script");
      rcs.src = "https://ringcentral.github.io/ringcentral-widget-demo/adapter.js";
      var rcs0 = document.getElementsByTagName("script")[0];
      rcs0.parentNode.insertBefore(rcs, rcs0);
    })();
  &lt;/script&gt;
  </pre>
  <h3>2. Iframe way</h3>
  <p>Create a iframe with the following codes</p>
  <pre>
     &lt;iframe width="300" height="500" src="https://ringcentral.github.io/ringcentral-widget-demo/app.html"&gt;
     &lt;/iframe&gt;
  </pre>
  <h2>Use your own appKey and appSecret</h2>
  <p>Create a broswer based app in <a href="https://developer.ringcentral.com/" target="_blank">RingCentral Developer Platform<a> to get appKey, appSecret and appServer.</p>
  <p>You need to add following uri to your redirect url in app setting on developer website</p>
  <pre>https://ringcentral.github.io/ringcentral-widget-demo/redirect.html</pre>
  <p>This app support authorization code and implicit grant flows. If you only provider appKey, it will use implicit grant flow. If you provide appKey and appSecret, it will use authorization code. In implicit grant flow, app will not refresh token, so user will log out after 1 hour.</p>
  <h3>1. Config your appKey in adapter way</h3>
  <pre>
  &lt;script&gt;
    (function() {
      var rcs = document.createElement("script");
      rcs.src = "https://ringcentral.github.io/ringcentral-widget-demo/adapter.js?appKey=your_own_app_key";
      var rcs0 = document.getElementsByTagName("script")[0];
      rcs0.parentNode.insertBefore(rcs, rcs0);
    })();
  &lt;/script&gt;
  </pre>
  <h3>2. Config your appKey in iframe way</h3>
  <pre>
    &lt;iframe width="300" height="500" src="https://ringcentral.github.io/ringcentral-widget-demo/app.html?appKey=your_own_app_key"&gt;
    &lt;/iframe&gt;
  </pre>
  <h3>3. Config your appKey in Environment</h3>
  <p>Click <a href="#" id="setEnvironment">here to set this widget's appKey, appSecret and AppServer.</a> Enable and save. If you want to use implicit grant flow, please keep appSecret blank.</p>
  <p>Set redirect url in RingCentral Developer Platform as the app show.</p>
  <p>In environment way, appKey and appSecret save in your localstorage, so it will not influence other people.</p>
  <p>Click to SMS: <a href="sms:+1234567890">+1234567890</a>
  </p>
  <p>Click to Call: <a href="tel:+1234567888">+1234567888</a></p>
  <script src="adapter.js"></script>
  <script>
    (function () {
      var setEnvironment = window.document.querySelector('#setEnvironment');
      setEnvironment.addEventListener('click', function () {
        if (window.RCAdapter && window.RCAdapter.setEnvironment) {
          window.RCAdapter.setEnvironment();
        }
      });
    })();
  </script>
</body>
</html>
