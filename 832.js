(self.webpackChunkringcentral_embeddable=self.webpackChunkringcentral_embeddable||[]).push([[832],{489235:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";function safeAdd(x,y){var lsw=(65535&x)+(65535&y);return(x>>16)+(y>>16)+(lsw>>16)<<16|65535&lsw}function md5cmn(q,a,b,x,s,t){return safeAdd((num=safeAdd(safeAdd(a,q),safeAdd(x,t)))<<(cnt=s)|num>>>32-cnt,b);var num,cnt}function md5ff(a,b,c,d,x,s,t){return md5cmn(b&c|~b&d,a,b,x,s,t)}function md5gg(a,b,c,d,x,s,t){return md5cmn(b&d|c&~d,a,b,x,s,t)}function md5hh(a,b,c,d,x,s,t){return md5cmn(b^c^d,a,b,x,s,t)}function md5ii(a,b,c,d,x,s,t){return md5cmn(c^(b|~d),a,b,x,s,t)}function binlMD5(x,len){var i,olda,oldb,oldc,oldd;x[len>>5]|=128<<len%32,x[14+(len+64>>>9<<4)]=len;var a=1732584193,b=-271733879,c=-1732584194,d=271733878;for(i=0;i<x.length;i+=16)olda=a,oldb=b,oldc=c,oldd=d,a=md5ff(a,b,c,d,x[i],7,-680876936),d=md5ff(d,a,b,c,x[i+1],12,-389564586),c=md5ff(c,d,a,b,x[i+2],17,606105819),b=md5ff(b,c,d,a,x[i+3],22,-1044525330),a=md5ff(a,b,c,d,x[i+4],7,-176418897),d=md5ff(d,a,b,c,x[i+5],12,1200080426),c=md5ff(c,d,a,b,x[i+6],17,-1473231341),b=md5ff(b,c,d,a,x[i+7],22,-45705983),a=md5ff(a,b,c,d,x[i+8],7,1770035416),d=md5ff(d,a,b,c,x[i+9],12,-1958414417),c=md5ff(c,d,a,b,x[i+10],17,-42063),b=md5ff(b,c,d,a,x[i+11],22,-1990404162),a=md5ff(a,b,c,d,x[i+12],7,1804603682),d=md5ff(d,a,b,c,x[i+13],12,-40341101),c=md5ff(c,d,a,b,x[i+14],17,-1502002290),a=md5gg(a,b=md5ff(b,c,d,a,x[i+15],22,1236535329),c,d,x[i+1],5,-165796510),d=md5gg(d,a,b,c,x[i+6],9,-1069501632),c=md5gg(c,d,a,b,x[i+11],14,643717713),b=md5gg(b,c,d,a,x[i],20,-373897302),a=md5gg(a,b,c,d,x[i+5],5,-701558691),d=md5gg(d,a,b,c,x[i+10],9,38016083),c=md5gg(c,d,a,b,x[i+15],14,-660478335),b=md5gg(b,c,d,a,x[i+4],20,-405537848),a=md5gg(a,b,c,d,x[i+9],5,568446438),d=md5gg(d,a,b,c,x[i+14],9,-1019803690),c=md5gg(c,d,a,b,x[i+3],14,-187363961),b=md5gg(b,c,d,a,x[i+8],20,1163531501),a=md5gg(a,b,c,d,x[i+13],5,-1444681467),d=md5gg(d,a,b,c,x[i+2],9,-51403784),c=md5gg(c,d,a,b,x[i+7],14,1735328473),a=md5hh(a,b=md5gg(b,c,d,a,x[i+12],20,-1926607734),c,d,x[i+5],4,-378558),d=md5hh(d,a,b,c,x[i+8],11,-2022574463),c=md5hh(c,d,a,b,x[i+11],16,1839030562),b=md5hh(b,c,d,a,x[i+14],23,-35309556),a=md5hh(a,b,c,d,x[i+1],4,-1530992060),d=md5hh(d,a,b,c,x[i+4],11,1272893353),c=md5hh(c,d,a,b,x[i+7],16,-155497632),b=md5hh(b,c,d,a,x[i+10],23,-1094730640),a=md5hh(a,b,c,d,x[i+13],4,681279174),d=md5hh(d,a,b,c,x[i],11,-358537222),c=md5hh(c,d,a,b,x[i+3],16,-722521979),b=md5hh(b,c,d,a,x[i+6],23,76029189),a=md5hh(a,b,c,d,x[i+9],4,-640364487),d=md5hh(d,a,b,c,x[i+12],11,-421815835),c=md5hh(c,d,a,b,x[i+15],16,530742520),a=md5ii(a,b=md5hh(b,c,d,a,x[i+2],23,-995338651),c,d,x[i],6,-198630844),d=md5ii(d,a,b,c,x[i+7],10,1126891415),c=md5ii(c,d,a,b,x[i+14],15,-1416354905),b=md5ii(b,c,d,a,x[i+5],21,-57434055),a=md5ii(a,b,c,d,x[i+12],6,1700485571),d=md5ii(d,a,b,c,x[i+3],10,-1894986606),c=md5ii(c,d,a,b,x[i+10],15,-1051523),b=md5ii(b,c,d,a,x[i+1],21,-2054922799),a=md5ii(a,b,c,d,x[i+8],6,1873313359),d=md5ii(d,a,b,c,x[i+15],10,-30611744),c=md5ii(c,d,a,b,x[i+6],15,-1560198380),b=md5ii(b,c,d,a,x[i+13],21,1309151649),a=md5ii(a,b,c,d,x[i+4],6,-145523070),d=md5ii(d,a,b,c,x[i+11],10,-1120210379),c=md5ii(c,d,a,b,x[i+2],15,718787259),b=md5ii(b,c,d,a,x[i+9],21,-343485551),a=safeAdd(a,olda),b=safeAdd(b,oldb),c=safeAdd(c,oldc),d=safeAdd(d,oldd);return[a,b,c,d]}function binl2rstr(input){var i,output="",length32=32*input.length;for(i=0;i<length32;i+=8)output+=String.fromCharCode(input[i>>5]>>>i%32&255);return output}function rstr2binl(input){var i,output=[];for(output[(input.length>>2)-1]=void 0,i=0;i<output.length;i+=1)output[i]=0;var length8=8*input.length;for(i=0;i<length8;i+=8)output[i>>5]|=(255&input.charCodeAt(i/8))<<i%32;return output}function rstr2hex(input){var x,i,output="";for(i=0;i<input.length;i+=1)x=input.charCodeAt(i),output+="0123456789abcdef".charAt(x>>>4&15)+"0123456789abcdef".charAt(15&x);return output}function str2rstrUTF8(input){return unescape(encodeURIComponent(input))}function rawMD5(s){return function(s){return binl2rstr(binlMD5(rstr2binl(s),8*s.length))}(str2rstrUTF8(s))}function rawHMACMD5(k,d){return function(key,data){var i,hash,bkey=rstr2binl(key),ipad=[],opad=[];for(ipad[15]=opad[15]=void 0,bkey.length>16&&(bkey=binlMD5(bkey,8*key.length)),i=0;i<16;i+=1)ipad[i]=909522486^bkey[i],opad[i]=1549556828^bkey[i];return hash=binlMD5(ipad.concat(rstr2binl(data)),512+8*data.length),binl2rstr(binlMD5(opad.concat(hash),640))}(str2rstrUTF8(k),str2rstrUTF8(d))}function md5(string,key,raw){return key?raw?rawHMACMD5(key,string):rstr2hex(rawHMACMD5(key,string)):raw?rawMD5(string):rstr2hex(rawMD5(string))}void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return md5}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},773157:function(__unused_webpack_module,__webpack_exports__){"use strict";__webpack_exports__.A=class{listeners=new Map;tempListeners=new Map;on(eventName,listener){this.listeners.has(eventName)||this.listeners.set(eventName,[]),this.listeners.get(eventName).push(listener)}once(eventName,listener){this.tempListeners.has(eventName)||this.tempListeners.set(eventName,[]),this.tempListeners.get(eventName).push(listener)}off(eventName,listener){let list=this.listeners.get(eventName);list&&this.listeners.set(eventName,list.filter((l=>l!==listener))),list=this.tempListeners.get(eventName),list&&this.tempListeners.set(eventName,list.filter((l=>l!==listener)))}emit(eventName,...args){(this.listeners.get(eventName)??[]).forEach((listener=>listener(...args))),(this.tempListeners.get(eventName)??[]).forEach((listener=>listener(...args))),this.tempListeners.delete(eventName)}removeAllListeners(){this.listeners.clear(),this.tempListeners.clear()}}},454793:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var fast_xml_parser__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(962567),fast_xml_parser__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(825092);class RcMessage{static xmlOptions={ignoreAttributes:!1,attributeNamePrefix:"",attributesGroupName:"$",format:!1,suppressEmptyNode:!0};static fromXml(_xmlStr){let xmlStr=_xmlStr;xmlStr.startsWith("P-rc: ")&&(xmlStr=xmlStr.substring(6));const parsed=new fast_xml_parser__WEBPACK_IMPORTED_MODULE_0__.A(RcMessage.xmlOptions).parse(xmlStr);return new RcMessage(parsed.Msg.Hdr.$,parsed.Msg.Bdy.$)}headers;body;constructor(headers,body){this.headers=headers,this.body=body}toXml(){const builder=new fast_xml_parser__WEBPACK_IMPORTED_MODULE_1__.A(RcMessage.xmlOptions),obj={Msg:{Hdr:{$:this.headers},Bdy:{$:this.body}}};return builder.build(obj)}}__webpack_exports__.A=RcMessage},946506:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _sip_message_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(627295);class InboundMessage extends _sip_message_index_js__WEBPACK_IMPORTED_MODULE_0__.A{static fromString(str){const sipMessage=_sip_message_index_js__WEBPACK_IMPORTED_MODULE_0__.A.fromString(str);return sipMessage.direction="inbound",sipMessage}}__webpack_exports__.A=InboundMessage},627295:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _utils_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(954851);class SipMessage{static fromString(str){const sipMessage=new SipMessage,[init,...body]=str.split("\r\n\r\n");sipMessage.body=body.join("\r\n\r\n");const[subject,...headers]=init.split("\r\n");return sipMessage.subject=subject,sipMessage.headers=Object.fromEntries(headers.map((line=>line.split(": ")))),sipMessage.headers.To&&!sipMessage.headers.To.includes(";tag=")&&(sipMessage.headers.To+=";tag="+(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.uR)()),sipMessage}subject;headers;body;direction;constructor(subject="",headers={},body=""){this.subject=subject,this.headers=headers,this.body=body.trim().split(/[\r\n]+/).join("\r\n"),this.body.length>0&&(this.body+="\r\n")}toString(){return[this.subject,...Object.keys(this.headers).map((key=>`${key}: ${this.headers[key]}`)),"",this.body].join("\r\n")}get shortString(){return`${this.direction} - ${this.subject}`}}__webpack_exports__.A=SipMessage},360224:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(627295);class OutboundMessage extends _index_js__WEBPACK_IMPORTED_MODULE_0__.A{static fromString(str){const sipMessage=_index_js__WEBPACK_IMPORTED_MODULE_0__.A.fromString(str);return sipMessage.direction="outbound",sipMessage}constructor(subject="",headers={},body=""){super(subject,headers,body),this.direction="outbound",this.headers["Content-Length"]=this.body.length.toString(),this.headers["User-Agent"]="ringcentral-web-phone-2",this.headers["Max-Forwards"]="70"}}__webpack_exports__.A=OutboundMessage},574317:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(360224),_utils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(954851);let cseq=Math.floor(1e4*Math.random());class RequestMessage extends _index_js__WEBPACK_IMPORTED_MODULE_0__.A{constructor(subject="",headers={},body=""){super(subject,headers,body),void 0===this.headers.CSeq&&this.newCseq()}newCseq(){this.headers.CSeq=`${++cseq} ${this.subject.split(" ")[0]}`}fork(){const newMessage=new RequestMessage(this.subject,{...this.headers},this.body);return newMessage.newCseq(),newMessage.headers.Via&&(newMessage.headers.Via=newMessage.headers.Via.replace(/;branch=.+?$/,`;branch=${(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.tk)()}`)),newMessage}}__webpack_exports__.A=RequestMessage},822329:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(360224),_response_codes_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(959795);class ResponseMessage extends _index_js__WEBPACK_IMPORTED_MODULE_0__.A{constructor(inboundMessage,{responseCode:responseCode,headers:headers={},body:body=""}){super(void 0,{...headers},body),this.subject=`SIP/2.0 ${responseCode} ${_response_codes_js__WEBPACK_IMPORTED_MODULE_1__.A[responseCode]}`;const keys=["Via","From","To","Call-Id","CSeq"];for(const key of keys)inboundMessage.headers[key]&&(this.headers[key]=inboundMessage.headers[key])}}__webpack_exports__.A=ResponseMessage},959795:function(__unused_webpack_module,__webpack_exports__){"use strict";__webpack_exports__.A={100:"Trying",180:"Ringing",181:"Call is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",424:"Bad Location Information",425:"Bad Alert Message",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"Server Internal Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",555:"Push Notification Service Not Supported",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable",607:"Unwanted",608:"Rejected"}},954851:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{K4:function(){return fakeEmail},Yn:function(){return fakeDomain},ju:function(){return generateAuthorization},tk:function(){return branch},uR:function(){return uuid}});var uuid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(182961),blueimp_md5__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(489235),blueimp_md5__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(blueimp_md5__WEBPACK_IMPORTED_MODULE_0__);const uuid=()=>(0,uuid__WEBPACK_IMPORTED_MODULE_1__.A)(),branch=()=>"z9hG4bK-"+uuid(),generateResponse=(sipInfo,endpoint,nonce)=>{const ha1=blueimp_md5__WEBPACK_IMPORTED_MODULE_0___default()(`${sipInfo.authorizationId}:${sipInfo.domain}:${sipInfo.password}`),ha2=blueimp_md5__WEBPACK_IMPORTED_MODULE_0___default()(endpoint);return blueimp_md5__WEBPACK_IMPORTED_MODULE_0___default()(`${ha1}:${nonce}:${ha2}`)},generateAuthorization=(sipInfo,nonce,method)=>{const authObj={"Digest algorithm":"MD5",username:sipInfo.authorizationId,realm:sipInfo.domain,nonce:nonce,uri:`sip:${sipInfo.domain}`,response:generateResponse(sipInfo,`${method}:sip:${sipInfo.domain}`,nonce)};return Object.keys(authObj).map((key=>`${key}="${authObj[key]}"`)).join(", ")},fakeDomain=uuid()+".invalid",fakeEmail=uuid()+"@"+fakeDomain},873361:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";function getIgnoreAttributesFn(ignoreAttributes){return"function"==typeof ignoreAttributes?ignoreAttributes:Array.isArray(ignoreAttributes)?attrName=>{for(const pattern of ignoreAttributes){if("string"==typeof pattern&&attrName===pattern)return!0;if(pattern instanceof RegExp&&pattern.test(attrName))return!0}}:()=>!1}__webpack_require__.d(__webpack_exports__,{A:function(){return getIgnoreAttributesFn}})},399466:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Eo:function(){return isName},Xe:function(){return getAllMatches},yQ:function(){return isExist}});const nameStartChar=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",regexName=new RegExp("^"+("["+nameStartChar+"]["+(nameStartChar+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040")+"]*")+"$");function getAllMatches(string,regex){const matches=[];let match=regex.exec(string);for(;match;){const allmatches=[];allmatches.startIndex=regex.lastIndex-match[0].length;const len=match.length;for(let index=0;index<len;index++)allmatches.push(match[index]);matches.push(allmatches),match=regex.exec(string)}return matches}const isName=function(string){const match=regexName.exec(string);return!(null==match)};function isExist(v){return void 0!==v}},330362:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{t:function(){return validate}});var _util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(399466);const defaultOptions={allowBooleanAttributes:!1,unpairedTags:[]};function validate(xmlData,options){options=Object.assign({},defaultOptions,options);const tags=[];let tagFound=!1,reachedRoot=!1;"\ufeff"===xmlData[0]&&(xmlData=xmlData.substr(1));for(let i=0;i<xmlData.length;i++)if("<"===xmlData[i]&&"?"===xmlData[i+1]){if(i+=2,i=readPI(xmlData,i),i.err)return i}else{if("<"!==xmlData[i]){if(isWhiteSpace(xmlData[i]))continue;return getErrorObject("InvalidChar","char '"+xmlData[i]+"' is not expected.",getLineNumberForPosition(xmlData,i))}{let tagStartPos=i;if(i++,"!"===xmlData[i]){i=readCommentAndCDATA(xmlData,i);continue}{let closingTag=!1;"/"===xmlData[i]&&(closingTag=!0,i++);let tagName="";for(;i<xmlData.length&&">"!==xmlData[i]&&" "!==xmlData[i]&&"\t"!==xmlData[i]&&"\n"!==xmlData[i]&&"\r"!==xmlData[i];i++)tagName+=xmlData[i];if(tagName=tagName.trim(),"/"===tagName[tagName.length-1]&&(tagName=tagName.substring(0,tagName.length-1),i--),tagname=tagName,!(0,_util_js__WEBPACK_IMPORTED_MODULE_0__.Eo)(tagname)){let msg;return msg=0===tagName.trim().length?"Invalid space after '<'.":"Tag '"+tagName+"' is an invalid name.",getErrorObject("InvalidTag",msg,getLineNumberForPosition(xmlData,i))}const result=readAttributeStr(xmlData,i);if(!1===result)return getErrorObject("InvalidAttr","Attributes for '"+tagName+"' have open quote.",getLineNumberForPosition(xmlData,i));let attrStr=result.value;if(i=result.index,"/"===attrStr[attrStr.length-1]){const attrStrStart=i-attrStr.length;attrStr=attrStr.substring(0,attrStr.length-1);const isValid=validateAttributeString(attrStr,options);if(!0!==isValid)return getErrorObject(isValid.err.code,isValid.err.msg,getLineNumberForPosition(xmlData,attrStrStart+isValid.err.line));tagFound=!0}else if(closingTag){if(!result.tagClosed)return getErrorObject("InvalidTag","Closing tag '"+tagName+"' doesn't have proper closing.",getLineNumberForPosition(xmlData,i));if(attrStr.trim().length>0)return getErrorObject("InvalidTag","Closing tag '"+tagName+"' can't have attributes or invalid starting.",getLineNumberForPosition(xmlData,tagStartPos));if(0===tags.length)return getErrorObject("InvalidTag","Closing tag '"+tagName+"' has not been opened.",getLineNumberForPosition(xmlData,tagStartPos));{const otg=tags.pop();if(tagName!==otg.tagName){let openPos=getLineNumberForPosition(xmlData,otg.tagStartPos);return getErrorObject("InvalidTag","Expected closing tag '"+otg.tagName+"' (opened in line "+openPos.line+", col "+openPos.col+") instead of closing tag '"+tagName+"'.",getLineNumberForPosition(xmlData,tagStartPos))}0==tags.length&&(reachedRoot=!0)}}else{const isValid=validateAttributeString(attrStr,options);if(!0!==isValid)return getErrorObject(isValid.err.code,isValid.err.msg,getLineNumberForPosition(xmlData,i-attrStr.length+isValid.err.line));if(!0===reachedRoot)return getErrorObject("InvalidXml","Multiple possible root nodes found.",getLineNumberForPosition(xmlData,i));-1!==options.unpairedTags.indexOf(tagName)||tags.push({tagName:tagName,tagStartPos:tagStartPos}),tagFound=!0}for(i++;i<xmlData.length;i++)if("<"===xmlData[i]){if("!"===xmlData[i+1]){i++,i=readCommentAndCDATA(xmlData,i);continue}if("?"!==xmlData[i+1])break;if(i=readPI(xmlData,++i),i.err)return i}else if("&"===xmlData[i]){const afterAmp=validateAmpersand(xmlData,i);if(-1==afterAmp)return getErrorObject("InvalidChar","char '&' is not expected.",getLineNumberForPosition(xmlData,i));i=afterAmp}else if(!0===reachedRoot&&!isWhiteSpace(xmlData[i]))return getErrorObject("InvalidXml","Extra text at the end",getLineNumberForPosition(xmlData,i));"<"===xmlData[i]&&i--}}}var tagname;return tagFound?1==tags.length?getErrorObject("InvalidTag","Unclosed tag '"+tags[0].tagName+"'.",getLineNumberForPosition(xmlData,tags[0].tagStartPos)):!(tags.length>0)||getErrorObject("InvalidXml","Invalid '"+JSON.stringify(tags.map((t=>t.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):getErrorObject("InvalidXml","Start tag expected.",1)}function isWhiteSpace(char){return" "===char||"\t"===char||"\n"===char||"\r"===char}function readPI(xmlData,i){const start=i;for(;i<xmlData.length;i++)if("?"!=xmlData[i]&&" "!=xmlData[i]);else{const tagname=xmlData.substr(start,i-start);if(i>5&&"xml"===tagname)return getErrorObject("InvalidXml","XML declaration allowed only at the start of the document.",getLineNumberForPosition(xmlData,i));if("?"==xmlData[i]&&">"==xmlData[i+1]){i++;break}}return i}function readCommentAndCDATA(xmlData,i){if(xmlData.length>i+5&&"-"===xmlData[i+1]&&"-"===xmlData[i+2]){for(i+=3;i<xmlData.length;i++)if("-"===xmlData[i]&&"-"===xmlData[i+1]&&">"===xmlData[i+2]){i+=2;break}}else if(xmlData.length>i+8&&"D"===xmlData[i+1]&&"O"===xmlData[i+2]&&"C"===xmlData[i+3]&&"T"===xmlData[i+4]&&"Y"===xmlData[i+5]&&"P"===xmlData[i+6]&&"E"===xmlData[i+7]){let angleBracketsCount=1;for(i+=8;i<xmlData.length;i++)if("<"===xmlData[i])angleBracketsCount++;else if(">"===xmlData[i]&&(angleBracketsCount--,0===angleBracketsCount))break}else if(xmlData.length>i+9&&"["===xmlData[i+1]&&"C"===xmlData[i+2]&&"D"===xmlData[i+3]&&"A"===xmlData[i+4]&&"T"===xmlData[i+5]&&"A"===xmlData[i+6]&&"["===xmlData[i+7])for(i+=8;i<xmlData.length;i++)if("]"===xmlData[i]&&"]"===xmlData[i+1]&&">"===xmlData[i+2]){i+=2;break}return i}const doubleQuote='"',singleQuote="'";function readAttributeStr(xmlData,i){let attrStr="",startChar="",tagClosed=!1;for(;i<xmlData.length;i++){if(xmlData[i]===doubleQuote||xmlData[i]===singleQuote)""===startChar?startChar=xmlData[i]:startChar!==xmlData[i]||(startChar="");else if(">"===xmlData[i]&&""===startChar){tagClosed=!0;break}attrStr+=xmlData[i]}return""===startChar&&{value:attrStr,index:i,tagClosed:tagClosed}}const validAttrStrRegxp=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function validateAttributeString(attrStr,options){const matches=(0,_util_js__WEBPACK_IMPORTED_MODULE_0__.Xe)(attrStr,validAttrStrRegxp),attrNames={};for(let i=0;i<matches.length;i++){if(0===matches[i][1].length)return getErrorObject("InvalidAttr","Attribute '"+matches[i][2]+"' has no space in starting.",getPositionFromMatch(matches[i]));if(void 0!==matches[i][3]&&void 0===matches[i][4])return getErrorObject("InvalidAttr","Attribute '"+matches[i][2]+"' is without value.",getPositionFromMatch(matches[i]));if(void 0===matches[i][3]&&!options.allowBooleanAttributes)return getErrorObject("InvalidAttr","boolean attribute '"+matches[i][2]+"' is not allowed.",getPositionFromMatch(matches[i]));const attrName=matches[i][2];if(!validateAttrName(attrName))return getErrorObject("InvalidAttr","Attribute '"+attrName+"' is an invalid name.",getPositionFromMatch(matches[i]));if(attrNames.hasOwnProperty(attrName))return getErrorObject("InvalidAttr","Attribute '"+attrName+"' is repeated.",getPositionFromMatch(matches[i]));attrNames[attrName]=1}return!0}function validateAmpersand(xmlData,i){if(";"===xmlData[++i])return-1;if("#"===xmlData[i])return function(xmlData,i){let re=/\d/;for("x"===xmlData[i]&&(i++,re=/[\da-fA-F]/);i<xmlData.length;i++){if(";"===xmlData[i])return i;if(!xmlData[i].match(re))break}return-1}(xmlData,++i);let count=0;for(;i<xmlData.length;i++,count++)if(!(xmlData[i].match(/\w/)&&count<20)){if(";"===xmlData[i])break;return-1}return i}function getErrorObject(code,message,lineNumber){return{err:{code:code,msg:message,line:lineNumber.line||lineNumber,col:lineNumber.col}}}function validateAttrName(attrName){return(0,_util_js__WEBPACK_IMPORTED_MODULE_0__.Eo)(attrName)}function getLineNumberForPosition(xmlData,index){const lines=xmlData.substring(0,index).split(/\r?\n/);return{line:lines.length,col:lines[lines.length-1].length+1}}function getPositionFromMatch(match){return match.startIndex+match[1].length}},825092:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return Builder}});var _orderedJs2Xml_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(480768),_ignoreAttributes_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(873361);const defaultOptions={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(key,a){return a},attributeValueProcessor:function(attrName,a){return a},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Builder(options){this.options=Object.assign({},defaultOptions,options),!0===this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=(0,_ignoreAttributes_js__WEBPACK_IMPORTED_MODULE_0__.A)(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=isAttribute),this.processTextOrObjNode=processTextOrObjNode,this.options.format?(this.indentate=indentate,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function processTextOrObjNode(object,key,level,ajPath){const result=this.j2x(object,level+1,ajPath.concat(key));return void 0!==object[this.options.textNodeName]&&1===Object.keys(object).length?this.buildTextValNode(object[this.options.textNodeName],key,result.attrStr,level):this.buildObjectNode(result.val,key,result.attrStr,level)}function indentate(level){return this.options.indentBy.repeat(level)}function isAttribute(name){return!(!name.startsWith(this.options.attributeNamePrefix)||name===this.options.textNodeName)&&name.substr(this.attrPrefixLen)}Builder.prototype.build=function(jObj){return this.options.preserveOrder?(0,_orderedJs2Xml_js__WEBPACK_IMPORTED_MODULE_1__.A)(jObj,this.options):(Array.isArray(jObj)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(jObj={[this.options.arrayNodeName]:jObj}),this.j2x(jObj,0,[]).val)},Builder.prototype.j2x=function(jObj,level,ajPath){let attrStr="",val="";const jPath=ajPath.join(".");for(let key in jObj)if(Object.prototype.hasOwnProperty.call(jObj,key))if(void 0===jObj[key])this.isAttribute(key)&&(val+="");else if(null===jObj[key])this.isAttribute(key)||key===this.options.cdataPropName?val+="":"?"===key[0]?val+=this.indentate(level)+"<"+key+"?"+this.tagEndChar:val+=this.indentate(level)+"<"+key+"/"+this.tagEndChar;else if(jObj[key]instanceof Date)val+=this.buildTextValNode(jObj[key],key,"",level);else if("object"!=typeof jObj[key]){const attr=this.isAttribute(key);if(attr&&!this.ignoreAttributesFn(attr,jPath))attrStr+=this.buildAttrPairStr(attr,""+jObj[key]);else if(!attr)if(key===this.options.textNodeName){let newval=this.options.tagValueProcessor(key,""+jObj[key]);val+=this.replaceEntitiesValue(newval)}else val+=this.buildTextValNode(jObj[key],key,"",level)}else if(Array.isArray(jObj[key])){const arrLen=jObj[key].length;let listTagVal="",listTagAttr="";for(let j=0;j<arrLen;j++){const item=jObj[key][j];if(void 0===item);else if(null===item)"?"===key[0]?val+=this.indentate(level)+"<"+key+"?"+this.tagEndChar:val+=this.indentate(level)+"<"+key+"/"+this.tagEndChar;else if("object"==typeof item)if(this.options.oneListGroup){const result=this.j2x(item,level+1,ajPath.concat(key));listTagVal+=result.val,this.options.attributesGroupName&&item.hasOwnProperty(this.options.attributesGroupName)&&(listTagAttr+=result.attrStr)}else listTagVal+=this.processTextOrObjNode(item,key,level,ajPath);else if(this.options.oneListGroup){let textValue=this.options.tagValueProcessor(key,item);textValue=this.replaceEntitiesValue(textValue),listTagVal+=textValue}else listTagVal+=this.buildTextValNode(item,key,"",level)}this.options.oneListGroup&&(listTagVal=this.buildObjectNode(listTagVal,key,listTagAttr,level)),val+=listTagVal}else if(this.options.attributesGroupName&&key===this.options.attributesGroupName){const Ks=Object.keys(jObj[key]),L=Ks.length;for(let j=0;j<L;j++)attrStr+=this.buildAttrPairStr(Ks[j],""+jObj[key][Ks[j]])}else val+=this.processTextOrObjNode(jObj[key],key,level,ajPath);return{attrStr:attrStr,val:val}},Builder.prototype.buildAttrPairStr=function(attrName,val){return val=this.options.attributeValueProcessor(attrName,""+val),val=this.replaceEntitiesValue(val),this.options.suppressBooleanAttributes&&"true"===val?" "+attrName:" "+attrName+'="'+val+'"'},Builder.prototype.buildObjectNode=function(val,key,attrStr,level){if(""===val)return"?"===key[0]?this.indentate(level)+"<"+key+attrStr+"?"+this.tagEndChar:this.indentate(level)+"<"+key+attrStr+this.closeTag(key)+this.tagEndChar;{let tagEndExp="</"+key+this.tagEndChar,piClosingChar="";return"?"===key[0]&&(piClosingChar="?",tagEndExp=""),!attrStr&&""!==attrStr||-1!==val.indexOf("<")?!1!==this.options.commentPropName&&key===this.options.commentPropName&&0===piClosingChar.length?this.indentate(level)+`\x3c!--${val}--\x3e`+this.newLine:this.indentate(level)+"<"+key+attrStr+piClosingChar+this.tagEndChar+val+this.indentate(level)+tagEndExp:this.indentate(level)+"<"+key+attrStr+piClosingChar+">"+val+tagEndExp}},Builder.prototype.closeTag=function(key){let closeTag="";return-1!==this.options.unpairedTags.indexOf(key)?this.options.suppressUnpairedNode||(closeTag="/"):closeTag=this.options.suppressEmptyNode?"/":`></${key}`,closeTag},Builder.prototype.buildTextValNode=function(val,key,attrStr,level){if(!1!==this.options.cdataPropName&&key===this.options.cdataPropName)return this.indentate(level)+`<![CDATA[${val}]]>`+this.newLine;if(!1!==this.options.commentPropName&&key===this.options.commentPropName)return this.indentate(level)+`\x3c!--${val}--\x3e`+this.newLine;if("?"===key[0])return this.indentate(level)+"<"+key+attrStr+"?"+this.tagEndChar;{let textValue=this.options.tagValueProcessor(key,val);return textValue=this.replaceEntitiesValue(textValue),""===textValue?this.indentate(level)+"<"+key+attrStr+this.closeTag(key)+this.tagEndChar:this.indentate(level)+"<"+key+attrStr+">"+textValue+"</"+key+this.tagEndChar}},Builder.prototype.replaceEntitiesValue=function(textValue){if(textValue&&textValue.length>0&&this.options.processEntities)for(let i=0;i<this.options.entities.length;i++){const entity=this.options.entities[i];textValue=textValue.replace(entity.regex,entity.val)}return textValue}},480768:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return toXml}});const EOL="\n";function toXml(jArray,options){let indentation="";return options.format&&options.indentBy.length>0&&(indentation=EOL),arrToStr(jArray,options,"",indentation)}function arrToStr(arr,options,jPath,indentation){let xmlStr="",isPreviousElementTag=!1;for(let i=0;i<arr.length;i++){const tagObj=arr[i],tagName=propName(tagObj);if(void 0===tagName)continue;let newJPath="";if(newJPath=0===jPath.length?tagName:`${jPath}.${tagName}`,tagName===options.textNodeName){let tagText=tagObj[tagName];isStopNode(newJPath,options)||(tagText=options.tagValueProcessor(tagName,tagText),tagText=replaceEntitiesValue(tagText,options)),isPreviousElementTag&&(xmlStr+=indentation),xmlStr+=tagText,isPreviousElementTag=!1;continue}if(tagName===options.cdataPropName){isPreviousElementTag&&(xmlStr+=indentation),xmlStr+=`<![CDATA[${tagObj[tagName][0][options.textNodeName]}]]>`,isPreviousElementTag=!1;continue}if(tagName===options.commentPropName){xmlStr+=indentation+`\x3c!--${tagObj[tagName][0][options.textNodeName]}--\x3e`,isPreviousElementTag=!0;continue}if("?"===tagName[0]){const attStr=attr_to_str(tagObj[":@"],options),tempInd="?xml"===tagName?"":indentation;let piTextNodeName=tagObj[tagName][0][options.textNodeName];piTextNodeName=0!==piTextNodeName.length?" "+piTextNodeName:"",xmlStr+=tempInd+`<${tagName}${piTextNodeName}${attStr}?>`,isPreviousElementTag=!0;continue}let newIdentation=indentation;""!==newIdentation&&(newIdentation+=options.indentBy);const tagStart=indentation+`<${tagName}${attr_to_str(tagObj[":@"],options)}`,tagValue=arrToStr(tagObj[tagName],options,newJPath,newIdentation);-1!==options.unpairedTags.indexOf(tagName)?options.suppressUnpairedNode?xmlStr+=tagStart+">":xmlStr+=tagStart+"/>":tagValue&&0!==tagValue.length||!options.suppressEmptyNode?tagValue&&tagValue.endsWith(">")?xmlStr+=tagStart+`>${tagValue}${indentation}</${tagName}>`:(xmlStr+=tagStart+">",tagValue&&""!==indentation&&(tagValue.includes("/>")||tagValue.includes("</"))?xmlStr+=indentation+options.indentBy+tagValue+indentation:xmlStr+=tagValue,xmlStr+=`</${tagName}>`):xmlStr+=tagStart+"/>",isPreviousElementTag=!0}return xmlStr}function propName(obj){const keys=Object.keys(obj);for(let i=0;i<keys.length;i++){const key=keys[i];if(obj.hasOwnProperty(key)&&":@"!==key)return key}}function attr_to_str(attrMap,options){let attrStr="";if(attrMap&&!options.ignoreAttributes)for(let attr in attrMap){if(!attrMap.hasOwnProperty(attr))continue;let attrVal=options.attributeValueProcessor(attr,attrMap[attr]);attrVal=replaceEntitiesValue(attrVal,options),!0===attrVal&&options.suppressBooleanAttributes?attrStr+=` ${attr.substr(options.attributeNamePrefix.length)}`:attrStr+=` ${attr.substr(options.attributeNamePrefix.length)}="${attrVal}"`}return attrStr}function isStopNode(jPath,options){let tagName=(jPath=jPath.substr(0,jPath.length-options.textNodeName.length-1)).substr(jPath.lastIndexOf(".")+1);for(let index in options.stopNodes)if(options.stopNodes[index]===jPath||options.stopNodes[index]==="*."+tagName)return!0;return!1}function replaceEntitiesValue(textValue,options){if(textValue&&textValue.length>0&&options.processEntities)for(let i=0;i<options.entities.length;i++){const entity=options.entities[i];textValue=textValue.replace(entity.regex,entity.val)}return textValue}},933476:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return readDocType}});var _util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(399466);function readDocType(xmlData,i){const entities={};if("O"!==xmlData[i+3]||"C"!==xmlData[i+4]||"T"!==xmlData[i+5]||"Y"!==xmlData[i+6]||"P"!==xmlData[i+7]||"E"!==xmlData[i+8])throw new Error("Invalid Tag instead of DOCTYPE");{i+=9;let angleBracketsCount=1,hasBody=!1,comment=!1,exp="";for(;i<xmlData.length;i++)if("<"!==xmlData[i]||comment)if(">"===xmlData[i]){if(comment?"-"===xmlData[i-1]&&"-"===xmlData[i-2]&&(comment=!1,angleBracketsCount--):angleBracketsCount--,0===angleBracketsCount)break}else"["===xmlData[i]?hasBody=!0:exp+=xmlData[i];else{if(hasBody&&hasSeq(xmlData,"!ENTITY",i)){let entityName,val;i+=7,[entityName,val,i]=readEntityExp(xmlData,i+1),-1===val.indexOf("&")&&(entities[entityName]={regx:RegExp(`&${entityName};`,"g"),val:val})}else if(hasBody&&hasSeq(xmlData,"!ELEMENT",i)){i+=8;const{index:index}=readElementExp(xmlData,i+1);i=index}else if(hasBody&&hasSeq(xmlData,"!ATTLIST",i))i+=8;else if(hasBody&&hasSeq(xmlData,"!NOTATION",i)){i+=9;const{index:index}=readNotationExp(xmlData,i+1);i=index}else{if(!hasSeq(xmlData,"!--",i))throw new Error("Invalid DOCTYPE");comment=!0}angleBracketsCount++,exp=""}if(0!==angleBracketsCount)throw new Error("Unclosed DOCTYPE")}return{entities:entities,i:i}}const skipWhitespace=(data,index)=>{for(;index<data.length&&/\s/.test(data[index]);)index++;return index};function readEntityExp(xmlData,i){i=skipWhitespace(xmlData,i);let entityName="";for(;i<xmlData.length&&!/\s/.test(xmlData[i])&&'"'!==xmlData[i]&&"'"!==xmlData[i];)entityName+=xmlData[i],i++;if(validateEntityName(entityName),i=skipWhitespace(xmlData,i),"SYSTEM"===xmlData.substring(i,i+6).toUpperCase())throw new Error("External entities are not supported");if("%"===xmlData[i])throw new Error("Parameter entities are not supported");let entityValue="";return[i,entityValue]=readIdentifierVal(xmlData,i,"entity"),[entityName,entityValue,--i]}function readNotationExp(xmlData,i){i=skipWhitespace(xmlData,i);let notationName="";for(;i<xmlData.length&&!/\s/.test(xmlData[i]);)notationName+=xmlData[i],i++;validateEntityName(notationName),i=skipWhitespace(xmlData,i);const identifierType=xmlData.substring(i,i+6).toUpperCase();if("SYSTEM"!==identifierType&&"PUBLIC"!==identifierType)throw new Error(`Expected SYSTEM or PUBLIC, found "${identifierType}"`);i+=identifierType.length,i=skipWhitespace(xmlData,i);let publicIdentifier=null,systemIdentifier=null;if("PUBLIC"===identifierType)[i,publicIdentifier]=readIdentifierVal(xmlData,i,"publicIdentifier"),'"'!==xmlData[i=skipWhitespace(xmlData,i)]&&"'"!==xmlData[i]||([i,systemIdentifier]=readIdentifierVal(xmlData,i,"systemIdentifier"));else if("SYSTEM"===identifierType&&([i,systemIdentifier]=readIdentifierVal(xmlData,i,"systemIdentifier"),!systemIdentifier))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:notationName,publicIdentifier:publicIdentifier,systemIdentifier:systemIdentifier,index:--i}}function readIdentifierVal(xmlData,i,type){let identifierVal="";const startChar=xmlData[i];if('"'!==startChar&&"'"!==startChar)throw new Error(`Expected quoted string, found "${startChar}"`);for(i++;i<xmlData.length&&xmlData[i]!==startChar;)identifierVal+=xmlData[i],i++;if(xmlData[i]!==startChar)throw new Error(`Unterminated ${type} value`);return[++i,identifierVal]}function readElementExp(xmlData,i){i=skipWhitespace(xmlData,i);let elementName="";for(;i<xmlData.length&&!/\s/.test(xmlData[i]);)elementName+=xmlData[i],i++;if(!validateEntityName(elementName))throw new Error(`Invalid element name: "${elementName}"`);let contentModel="";if("E"===xmlData[i=skipWhitespace(xmlData,i)]&&hasSeq(xmlData,"MPTY",i))i+=4;else if("A"===xmlData[i]&&hasSeq(xmlData,"NY",i))i+=2;else{if("("!==xmlData[i])throw new Error(`Invalid Element Expression, found "${xmlData[i]}"`);for(i++;i<xmlData.length&&")"!==xmlData[i];)contentModel+=xmlData[i],i++;if(")"!==xmlData[i])throw new Error("Unterminated content model")}return{elementName:elementName,contentModel:contentModel.trim(),index:i}}function hasSeq(data,seq,i){for(let j=0;j<seq.length;j++)if(seq[j]!==data[i+j+1])return!1;return!0}function validateEntityName(name){if((0,_util_js__WEBPACK_IMPORTED_MODULE_0__.Eo)(name))return name;throw new Error(`Invalid entity name ${name}`)}},505960:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{D:function(){return buildOptions}});const defaultOptions={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(tagName,val){return val},attributeValueProcessor:function(attrName,val){return val},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(tagName,jPath,attrs){return tagName},captureMetaData:!1},buildOptions=function(options){return Object.assign({},defaultOptions,options)}},451012:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return OrderedObjParser}});var _util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(399466),_xmlNode_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(326812),_DocTypeReader_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(933476),strnum__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(584227),_ignoreAttributes_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(873361);class OrderedObjParser{constructor(options){this.options=options,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(_,str)=>String.fromCodePoint(Number.parseInt(str,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(_,str)=>String.fromCodePoint(Number.parseInt(str,16))}},this.addExternalEntities=addExternalEntities,this.parseXml=parseXml,this.parseTextData=parseTextData,this.resolveNameSpace=resolveNameSpace,this.buildAttributesMap=buildAttributesMap,this.isItStopNode=isItStopNode,this.replaceEntitiesValue=replaceEntitiesValue,this.readStopNodeData=readStopNodeData,this.saveTextToParentTag=saveTextToParentTag,this.addChild=addChild,this.ignoreAttributesFn=(0,_ignoreAttributes_js__WEBPACK_IMPORTED_MODULE_1__.A)(this.options.ignoreAttributes)}}function addExternalEntities(externalEntities){const entKeys=Object.keys(externalEntities);for(let i=0;i<entKeys.length;i++){const ent=entKeys[i];this.lastEntities[ent]={regex:new RegExp("&"+ent+";","g"),val:externalEntities[ent]}}}function parseTextData(val,tagName,jPath,dontTrim,hasAttributes,isLeafNode,escapeEntities){if(void 0!==val&&(this.options.trimValues&&!dontTrim&&(val=val.trim()),val.length>0)){escapeEntities||(val=this.replaceEntitiesValue(val));const newval=this.options.tagValueProcessor(tagName,val,jPath,hasAttributes,isLeafNode);if(null==newval)return val;if(typeof newval!=typeof val||newval!==val)return newval;if(this.options.trimValues)return parseValue(val,this.options.parseTagValue,this.options.numberParseOptions);return val.trim()===val?parseValue(val,this.options.parseTagValue,this.options.numberParseOptions):val}}function resolveNameSpace(tagname){if(this.options.removeNSPrefix){const tags=tagname.split(":"),prefix="/"===tagname.charAt(0)?"/":"";if("xmlns"===tags[0])return"";2===tags.length&&(tagname=prefix+tags[1])}return tagname}const attrsRegx=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function buildAttributesMap(attrStr,jPath,tagName){if(!0!==this.options.ignoreAttributes&&"string"==typeof attrStr){const matches=(0,_util_js__WEBPACK_IMPORTED_MODULE_2__.Xe)(attrStr,attrsRegx),len=matches.length,attrs={};for(let i=0;i<len;i++){const attrName=this.resolveNameSpace(matches[i][1]);if(this.ignoreAttributesFn(attrName,jPath))continue;let oldVal=matches[i][4],aName=this.options.attributeNamePrefix+attrName;if(attrName.length)if(this.options.transformAttributeName&&(aName=this.options.transformAttributeName(aName)),"__proto__"===aName&&(aName="#__proto__"),void 0!==oldVal){this.options.trimValues&&(oldVal=oldVal.trim()),oldVal=this.replaceEntitiesValue(oldVal);const newVal=this.options.attributeValueProcessor(attrName,oldVal,jPath);attrs[aName]=null==newVal?oldVal:typeof newVal!=typeof oldVal||newVal!==oldVal?newVal:parseValue(oldVal,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(attrs[aName]=!0)}if(!Object.keys(attrs).length)return;if(this.options.attributesGroupName){const attrCollection={};return attrCollection[this.options.attributesGroupName]=attrs,attrCollection}return attrs}}const parseXml=function(xmlData){xmlData=xmlData.replace(/\r\n?/g,"\n");const xmlObj=new _xmlNode_js__WEBPACK_IMPORTED_MODULE_3__.A("!xml");let currentNode=xmlObj,textData="",jPath="";for(let i=0;i<xmlData.length;i++){if("<"===xmlData[i])if("/"===xmlData[i+1]){const closeIndex=findClosingIndex(xmlData,">",i,"Closing Tag is not closed.");let tagName=xmlData.substring(i+2,closeIndex).trim();if(this.options.removeNSPrefix){const colonIndex=tagName.indexOf(":");-1!==colonIndex&&(tagName=tagName.substr(colonIndex+1))}this.options.transformTagName&&(tagName=this.options.transformTagName(tagName)),currentNode&&(textData=this.saveTextToParentTag(textData,currentNode,jPath));const lastTagName=jPath.substring(jPath.lastIndexOf(".")+1);if(tagName&&-1!==this.options.unpairedTags.indexOf(tagName))throw new Error(`Unpaired tag can not be used as closing tag: </${tagName}>`);let propIndex=0;lastTagName&&-1!==this.options.unpairedTags.indexOf(lastTagName)?(propIndex=jPath.lastIndexOf(".",jPath.lastIndexOf(".")-1),this.tagsNodeStack.pop()):propIndex=jPath.lastIndexOf("."),jPath=jPath.substring(0,propIndex),currentNode=this.tagsNodeStack.pop(),textData="",i=closeIndex}else if("?"===xmlData[i+1]){let tagData=readTagExp(xmlData,i,!1,"?>");if(!tagData)throw new Error("Pi Tag is not closed.");if(textData=this.saveTextToParentTag(textData,currentNode,jPath),this.options.ignoreDeclaration&&"?xml"===tagData.tagName||this.options.ignorePiTags);else{const childNode=new _xmlNode_js__WEBPACK_IMPORTED_MODULE_3__.A(tagData.tagName);childNode.add(this.options.textNodeName,""),tagData.tagName!==tagData.tagExp&&tagData.attrExpPresent&&(childNode[":@"]=this.buildAttributesMap(tagData.tagExp,jPath,tagData.tagName)),this.addChild(currentNode,childNode,jPath,i)}i=tagData.closeIndex+1}else if("!--"===xmlData.substr(i+1,3)){const endIndex=findClosingIndex(xmlData,"--\x3e",i+4,"Comment is not closed.");if(this.options.commentPropName){const comment=xmlData.substring(i+4,endIndex-2);textData=this.saveTextToParentTag(textData,currentNode,jPath),currentNode.add(this.options.commentPropName,[{[this.options.textNodeName]:comment}])}i=endIndex}else if("!D"===xmlData.substr(i+1,2)){const result=(0,_DocTypeReader_js__WEBPACK_IMPORTED_MODULE_4__.A)(xmlData,i);this.docTypeEntities=result.entities,i=result.i}else if("!["===xmlData.substr(i+1,2)){const closeIndex=findClosingIndex(xmlData,"]]>",i,"CDATA is not closed.")-2,tagExp=xmlData.substring(i+9,closeIndex);textData=this.saveTextToParentTag(textData,currentNode,jPath);let val=this.parseTextData(tagExp,currentNode.tagname,jPath,!0,!1,!0,!0);null==val&&(val=""),this.options.cdataPropName?currentNode.add(this.options.cdataPropName,[{[this.options.textNodeName]:tagExp}]):currentNode.add(this.options.textNodeName,val),i=closeIndex+2}else{let result=readTagExp(xmlData,i,this.options.removeNSPrefix),tagName=result.tagName;const rawTagName=result.rawTagName;let tagExp=result.tagExp,attrExpPresent=result.attrExpPresent,closeIndex=result.closeIndex;this.options.transformTagName&&(tagName=this.options.transformTagName(tagName)),currentNode&&textData&&"!xml"!==currentNode.tagname&&(textData=this.saveTextToParentTag(textData,currentNode,jPath,!1));const lastTag=currentNode;lastTag&&-1!==this.options.unpairedTags.indexOf(lastTag.tagname)&&(currentNode=this.tagsNodeStack.pop(),jPath=jPath.substring(0,jPath.lastIndexOf("."))),tagName!==xmlObj.tagname&&(jPath+=jPath?"."+tagName:tagName);const startIndex=i;if(this.isItStopNode(this.options.stopNodes,jPath,tagName)){let tagContent="";if(tagExp.length>0&&tagExp.lastIndexOf("/")===tagExp.length-1)"/"===tagName[tagName.length-1]?(tagName=tagName.substr(0,tagName.length-1),jPath=jPath.substr(0,jPath.length-1),tagExp=tagName):tagExp=tagExp.substr(0,tagExp.length-1),i=result.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(tagName))i=result.closeIndex;else{const result=this.readStopNodeData(xmlData,rawTagName,closeIndex+1);if(!result)throw new Error(`Unexpected end of ${rawTagName}`);i=result.i,tagContent=result.tagContent}const childNode=new _xmlNode_js__WEBPACK_IMPORTED_MODULE_3__.A(tagName);tagName!==tagExp&&attrExpPresent&&(childNode[":@"]=this.buildAttributesMap(tagExp,jPath,tagName)),tagContent&&(tagContent=this.parseTextData(tagContent,tagName,jPath,!0,attrExpPresent,!0,!0)),jPath=jPath.substr(0,jPath.lastIndexOf(".")),childNode.add(this.options.textNodeName,tagContent),this.addChild(currentNode,childNode,jPath,startIndex)}else{if(tagExp.length>0&&tagExp.lastIndexOf("/")===tagExp.length-1){"/"===tagName[tagName.length-1]?(tagName=tagName.substr(0,tagName.length-1),jPath=jPath.substr(0,jPath.length-1),tagExp=tagName):tagExp=tagExp.substr(0,tagExp.length-1),this.options.transformTagName&&(tagName=this.options.transformTagName(tagName));const childNode=new _xmlNode_js__WEBPACK_IMPORTED_MODULE_3__.A(tagName);tagName!==tagExp&&attrExpPresent&&(childNode[":@"]=this.buildAttributesMap(tagExp,jPath,tagName)),this.addChild(currentNode,childNode,jPath,startIndex),jPath=jPath.substr(0,jPath.lastIndexOf("."))}else{const childNode=new _xmlNode_js__WEBPACK_IMPORTED_MODULE_3__.A(tagName);this.tagsNodeStack.push(currentNode),tagName!==tagExp&&attrExpPresent&&(childNode[":@"]=this.buildAttributesMap(tagExp,jPath,tagName)),this.addChild(currentNode,childNode,jPath,startIndex),currentNode=childNode}textData="",i=closeIndex}}else textData+=xmlData[i]}return xmlObj.child};function addChild(currentNode,childNode,jPath,startIndex){this.options.captureMetaData||(startIndex=void 0);const result=this.options.updateTag(childNode.tagname,jPath,childNode[":@"]);!1===result||("string"==typeof result?(childNode.tagname=result,currentNode.addChild(childNode,startIndex)):currentNode.addChild(childNode,startIndex))}const replaceEntitiesValue=function(val){if(this.options.processEntities){for(let entityName in this.docTypeEntities){const entity=this.docTypeEntities[entityName];val=val.replace(entity.regx,entity.val)}for(let entityName in this.lastEntities){const entity=this.lastEntities[entityName];val=val.replace(entity.regex,entity.val)}if(this.options.htmlEntities)for(let entityName in this.htmlEntities){const entity=this.htmlEntities[entityName];val=val.replace(entity.regex,entity.val)}val=val.replace(this.ampEntity.regex,this.ampEntity.val)}return val};function saveTextToParentTag(textData,currentNode,jPath,isLeafNode){return textData&&(void 0===isLeafNode&&(isLeafNode=0===currentNode.child.length),void 0!==(textData=this.parseTextData(textData,currentNode.tagname,jPath,!1,!!currentNode[":@"]&&0!==Object.keys(currentNode[":@"]).length,isLeafNode))&&""!==textData&&currentNode.add(this.options.textNodeName,textData),textData=""),textData}function isItStopNode(stopNodes,jPath,currentTagName){const allNodesExp="*."+currentTagName;for(const stopNodePath in stopNodes){const stopNodeExp=stopNodes[stopNodePath];if(allNodesExp===stopNodeExp||jPath===stopNodeExp)return!0}return!1}function findClosingIndex(xmlData,str,i,errMsg){const closingIndex=xmlData.indexOf(str,i);if(-1===closingIndex)throw new Error(errMsg);return closingIndex+str.length-1}function readTagExp(xmlData,i,removeNSPrefix,closingChar=">"){const result=function(xmlData,i,closingChar=">"){let attrBoundary,tagExp="";for(let index=i;index<xmlData.length;index++){let ch=xmlData[index];if(attrBoundary)ch===attrBoundary&&(attrBoundary="");else if('"'===ch||"'"===ch)attrBoundary=ch;else if(ch===closingChar[0]){if(!closingChar[1])return{data:tagExp,index:index};if(xmlData[index+1]===closingChar[1])return{data:tagExp,index:index}}else"\t"===ch&&(ch=" ");tagExp+=ch}}(xmlData,i+1,closingChar);if(!result)return;let tagExp=result.data;const closeIndex=result.index,separatorIndex=tagExp.search(/\s/);let tagName=tagExp,attrExpPresent=!0;-1!==separatorIndex&&(tagName=tagExp.substring(0,separatorIndex),tagExp=tagExp.substring(separatorIndex+1).trimStart());const rawTagName=tagName;if(removeNSPrefix){const colonIndex=tagName.indexOf(":");-1!==colonIndex&&(tagName=tagName.substr(colonIndex+1),attrExpPresent=tagName!==result.data.substr(colonIndex+1))}return{tagName:tagName,tagExp:tagExp,closeIndex:closeIndex,attrExpPresent:attrExpPresent,rawTagName:rawTagName}}function readStopNodeData(xmlData,tagName,i){const startIndex=i;let openTagCount=1;for(;i<xmlData.length;i++)if("<"===xmlData[i])if("/"===xmlData[i+1]){const closeIndex=findClosingIndex(xmlData,">",i,`${tagName} is not closed`);if(xmlData.substring(i+2,closeIndex).trim()===tagName&&(openTagCount--,0===openTagCount))return{tagContent:xmlData.substring(startIndex,i),i:closeIndex};i=closeIndex}else if("?"===xmlData[i+1]){i=findClosingIndex(xmlData,"?>",i+1,"StopNode is not closed.")}else if("!--"===xmlData.substr(i+1,3)){i=findClosingIndex(xmlData,"--\x3e",i+3,"StopNode is not closed.")}else if("!["===xmlData.substr(i+1,2)){i=findClosingIndex(xmlData,"]]>",i,"StopNode is not closed.")-2}else{const tagData=readTagExp(xmlData,i,">");if(tagData){(tagData&&tagData.tagName)===tagName&&"/"!==tagData.tagExp[tagData.tagExp.length-1]&&openTagCount++,i=tagData.closeIndex}}}function parseValue(val,shouldParse,options){if(shouldParse&&"string"==typeof val){const newval=val.trim();return"true"===newval||"false"!==newval&&(0,strnum__WEBPACK_IMPORTED_MODULE_0__.A)(val,options)}return(0,_util_js__WEBPACK_IMPORTED_MODULE_2__.yQ)(val)?val:""}},962567:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return XMLParser}});var _OptionsBuilder_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(505960),_OrderedObjParser_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(451012),_node2json_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(616081),_validator_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(330362),_xmlNode_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(326812);class XMLParser{constructor(options){this.externalEntities={},this.options=(0,_OptionsBuilder_js__WEBPACK_IMPORTED_MODULE_0__.D)(options)}parse(xmlData,validationOption){if("string"==typeof xmlData);else{if(!xmlData.toString)throw new Error("XML data is accepted in String or Bytes[] form.");xmlData=xmlData.toString()}if(validationOption){!0===validationOption&&(validationOption={});const result=(0,_validator_js__WEBPACK_IMPORTED_MODULE_1__.t)(xmlData,validationOption);if(!0!==result)throw Error(`${result.err.msg}:${result.err.line}:${result.err.col}`)}const orderedObjParser=new _OrderedObjParser_js__WEBPACK_IMPORTED_MODULE_2__.A(this.options);orderedObjParser.addExternalEntities(this.externalEntities);const orderedResult=orderedObjParser.parseXml(xmlData);return this.options.preserveOrder||void 0===orderedResult?orderedResult:(0,_node2json_js__WEBPACK_IMPORTED_MODULE_3__.A)(orderedResult,this.options)}addEntity(key,value){if(-1!==value.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==key.indexOf("&")||-1!==key.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===value)throw new Error("An entity with value '&' is not permitted");this.externalEntities[key]=value}static getMetaDataSymbol(){return _xmlNode_js__WEBPACK_IMPORTED_MODULE_4__.A.getMetaDataSymbol()}}},616081:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return prettify}});const METADATA_SYMBOL=__webpack_require__(326812).A.getMetaDataSymbol();function prettify(node,options){return compress(node,options)}function compress(arr,options,jPath){let text;const compressedObj={};for(let i=0;i<arr.length;i++){const tagObj=arr[i],property=propName(tagObj);let newJpath="";if(newJpath=void 0===jPath?property:jPath+"."+property,property===options.textNodeName)void 0===text?text=tagObj[property]:text+=""+tagObj[property];else{if(void 0===property)continue;if(tagObj[property]){let val=compress(tagObj[property],options,newJpath);const isLeaf=isLeafTag(val,options);void 0!==tagObj[METADATA_SYMBOL]&&(val[METADATA_SYMBOL]=tagObj[METADATA_SYMBOL]),tagObj[":@"]?assignAttributes(val,tagObj[":@"],newJpath,options):1!==Object.keys(val).length||void 0===val[options.textNodeName]||options.alwaysCreateTextNode?0===Object.keys(val).length&&(options.alwaysCreateTextNode?val[options.textNodeName]="":val=""):val=val[options.textNodeName],void 0!==compressedObj[property]&&compressedObj.hasOwnProperty(property)?(Array.isArray(compressedObj[property])||(compressedObj[property]=[compressedObj[property]]),compressedObj[property].push(val)):options.isArray(property,newJpath,isLeaf)?compressedObj[property]=[val]:compressedObj[property]=val}}}return"string"==typeof text?text.length>0&&(compressedObj[options.textNodeName]=text):void 0!==text&&(compressedObj[options.textNodeName]=text),compressedObj}function propName(obj){const keys=Object.keys(obj);for(let i=0;i<keys.length;i++){const key=keys[i];if(":@"!==key)return key}}function assignAttributes(obj,attrMap,jpath,options){if(attrMap){const keys=Object.keys(attrMap),len=keys.length;for(let i=0;i<len;i++){const atrrName=keys[i];options.isArray(atrrName,jpath+"."+atrrName,!0,!0)?obj[atrrName]=[attrMap[atrrName]]:obj[atrrName]=attrMap[atrrName]}}}function isLeafTag(obj,options){const{textNodeName:textNodeName}=options,propCount=Object.keys(obj).length;return 0===propCount||!(1!==propCount||!obj[textNodeName]&&"boolean"!=typeof obj[textNodeName]&&0!==obj[textNodeName])}},326812:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";let METADATA_SYMBOL;__webpack_require__.d(__webpack_exports__,{A:function(){return XmlNode}}),METADATA_SYMBOL="function"!=typeof Symbol?"@@xmlMetadata":Symbol("XML Node Metadata");class XmlNode{constructor(tagname){this.tagname=tagname,this.child=[],this[":@"]={}}add(key,val){"__proto__"===key&&(key="#__proto__"),this.child.push({[key]:val})}addChild(node,startIndex){"__proto__"===node.tagname&&(node.tagname="#__proto__"),node[":@"]&&Object.keys(node[":@"]).length>0?this.child.push({[node.tagname]:node.child,":@":node[":@"]}):this.child.push({[node.tagname]:node.child}),void 0!==startIndex&&(this.child[this.child.length-1][METADATA_SYMBOL]={startIndex:startIndex})}static getMetaDataSymbol(){return METADATA_SYMBOL}}},866716:function(__unused_webpack___webpack_module__,__webpack_exports__){"use strict";const randomUUID="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);__webpack_exports__.A={randomUUID:randomUUID}},856458:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";let getRandomValues;__webpack_require__.d(__webpack_exports__,{A:function(){return rng}});const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");getRandomValues=crypto.getRandomValues.bind(crypto)}return getRandomValues(rnds8)}},123702:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{k:function(){return unsafeStringify}});const byteToHex=[];for(let i=0;i<256;++i)byteToHex.push((i+256).toString(16).slice(1));function unsafeStringify(arr,offset=0){return(byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+"-"+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+"-"+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+"-"+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+"-"+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]).toLowerCase()}},182961:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";var _native_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(866716),_rng_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(856458),_stringify_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(123702);__webpack_exports__.A=function(options,buf,offset){if(_native_js__WEBPACK_IMPORTED_MODULE_0__.A.randomUUID&&!buf&&!options)return _native_js__WEBPACK_IMPORTED_MODULE_0__.A.randomUUID();const rnds=(options=options||{}).random??options.rng?.()??(0,_rng_js__WEBPACK_IMPORTED_MODULE_1__.A)();if(rnds.length<16)throw new Error("Random bytes length must be >= 16");if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf){if((offset=offset||0)<0||offset+16>buf.length)throw new RangeError(`UUID byte range ${offset}:${offset+15} is out of buffer bounds`);for(let i=0;i<16;++i)buf[offset+i]=rnds[i];return buf}return(0,_stringify_js__WEBPACK_IMPORTED_MODULE_2__.k)(rnds)}},584227:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return toNumber}});const hexRegex=/^[-+]?0x[a-fA-F0-9]+$/,numRegex=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,consider={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function toNumber(str,options={}){if(options=Object.assign({},consider,options),!str||"string"!=typeof str)return str;let trimmedStr=str.trim();if(void 0!==options.skipLike&&options.skipLike.test(trimmedStr))return str;if("0"===str)return 0;if(options.hex&&hexRegex.test(trimmedStr))return function(numStr,base){if(parseInt)return parseInt(numStr,base);if(Number.parseInt)return Number.parseInt(numStr,base);if(window&&window.parseInt)return window.parseInt(numStr,base);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}(trimmedStr,16);if(-1!==trimmedStr.search(/.+[eE].+/))return function(str,trimmedStr,options){if(!options.eNotation)return str;const notation=trimmedStr.match(eNotationRegx);if(notation){let sign=notation[1]||"";const eChar=-1===notation[3].indexOf("e")?"E":"e",leadingZeros=notation[2],eAdjacentToLeadingZeros=sign?str[leadingZeros.length+1]===eChar:str[leadingZeros.length]===eChar;return leadingZeros.length>1&&eAdjacentToLeadingZeros?str:1!==leadingZeros.length||!notation[3].startsWith(`.${eChar}`)&&notation[3][0]!==eChar?options.leadingZeros&&!eAdjacentToLeadingZeros?(trimmedStr=(notation[1]||"")+notation[3],Number(trimmedStr)):str:Number(trimmedStr)}return str}(str,trimmedStr,options);{const match=numRegex.exec(trimmedStr);if(match){const sign=match[1]||"",leadingZeros=match[2];let numTrimmedByZeros=function(numStr){if(numStr&&-1!==numStr.indexOf("."))return"."===(numStr=numStr.replace(/0+$/,""))?numStr="0":"."===numStr[0]?numStr="0"+numStr:"."===numStr[numStr.length-1]&&(numStr=numStr.substring(0,numStr.length-1)),numStr;return numStr}(match[3]);const decimalAdjacentToLeadingZeros=sign?"."===str[leadingZeros.length+1]:"."===str[leadingZeros.length];if(!options.leadingZeros&&(leadingZeros.length>1||1===leadingZeros.length&&!decimalAdjacentToLeadingZeros))return str;{const num=Number(trimmedStr),parsedStr=String(num);if(0===num)return num;if(-1!==parsedStr.search(/[eE]/))return options.eNotation?num:str;if(-1!==trimmedStr.indexOf("."))return"0"===parsedStr||parsedStr===numTrimmedByZeros||parsedStr===`${sign}${numTrimmedByZeros}`?num:str;let n=leadingZeros?numTrimmedByZeros:trimmedStr;return leadingZeros?n===parsedStr||sign+n===parsedStr?num:str:n===parsedStr||n===sign+parsedStr?num:str}}return str}}const eNotationRegx=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/}}]);